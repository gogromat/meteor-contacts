<head>
	<title>My Contacts</title>
</head>


<body>

	{{>navbar}}

    {{>header}}

	{{> contacts_view}}

	{{>footer}}

</body>


<template name="contacts_view">
	
	<div class="row-fluid">


		<div class="span3" id="LeftSidebar">
			{{>lists_filter}}
		</div>
		
		<div class="span6" id="mainSpan">
			{{#each contacts}}
	  			{{> contact_item}}
			{{/each}}

			{{>add_contact}}

			{{#each contacts}}
		  		{{> debug_contacts}}
			{{/each}}
		</div>

		<div class="span3" id="RightSidebar">
    		{{>address_filter}}
		</div>

	</div>

</template>


<template name="lists_filter">
	<div class="list_title">Contact lists</div>
	{{#each lists}}
		<div class="lists-filter {{selected}}">
			{{list_name}}
		</div>
	{{/each}}

	<br>

	<div class="inline form-horizontal">
		<input type="text" placeholder="Add new type" id="new_list_name" />
		<button class="button btn-small btn-success add-list">+ List</button>
	</div>
</template>


<template name="address_filter">
	<div class="address_tag_title">Addresses</div>
	{{#each addresses}}
		<div class="inline address-filter">
			<div class="fixed-200 address-tag">{{streets}}</div>
			<span class="count">x {{count}}</span>
		</div>
		<div class="clear-inline"></div>
	{{/each}}
</template>


<template name="contact_item">
	<!-- <div class="inline"> -->
		<!-- <div class="form-horizontal"> -->
		<table class="contactTable">
			<tr>
				
				<td>
					<div class="inline form-horizontal">
						<input type="text" value="{{name}}" class="contact-name" />
						<button class="button btn-small btn-danger remove-contact">x</button>
					</div>
					<div class="clear-inline"></div>
				</td>
				
				<td> 

					{{#each address_objs}}
						<div class="inline form-horizontal">
							<input type="text" value="{{street}}" class="contact-address" />
							<button class="button btn-small btn-danger remove-address">x</button>
						</div>
						<div class="clear-inline"></div>
					{{/each}}	

					<div class="inline form-horizontal">
						<input type="text" id="{{_id}}_add_address" placeholder="Another Address">
						<button class="button btn-small btn-success add_another_address">+</button>
					</div>
				</td>

				<td></td>
			</tr>
		</table>
		<!-- </div> -->
	<!-- </div> -->
</template>	


<template name="add_contact">
	<div class="well" id="new_contact">
		<input type="text" id="new_contact_name"    placeholder="Name" />
		<input type="text" id="new_contact_address" placeholder="Address" />		
		<button id="add_new_contact" class="btn btn-small btn-success">+ Add</button>
	</div>
</template>


<template name="debug_contacts">
	{{name}} --
	[{{#each addresses}}
		{{street}},
	{{/each}}]<br>
</template>

<template name="navbar">
		<div class="navbar navbar-inverse">
	    <div class="navbar-inner">
		    <a class="brand" target="_blank" href="http://github.com/gogromat">GogromaT</a>
		    <!--<ul class="nav">
			    <li class="active"><a href="#">Home</a></li>
			    <li><a href="#">Link</a></li>
			    <li><a href="#">Link</a></li>
		    </ul>-->
		</div>
    </div>
</template>













<template name="header">
	<header class="jumbotron subhead">
		<div class="container">
			<h1>Contacts</h1>
			<p class="lead">Your Contacts anywhere</p>
		</div>
	</header>
</template>


<template name="footer">
	<footer class="footer">
		<div class="container">
			<p>Designed by <a target="_blank" href="http://github.com/gogromat">GogromaT</a><p>
			<p>2013</p>
		</div>
	</footer>
</template>